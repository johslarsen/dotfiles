#!/bin/bash -
name=$("$(dirname "$0")/notename" "$@")
if [ -t 0 ] && [ -t 1 ]; then
    name+=".md"
    touch "$name" # to reserve the name
    vim -c 'startinsert' "$name"
else
    name+=".log"
    cat > "$name"
fi
[ -s "$name" ] || rm "$name" # clean up empty files
